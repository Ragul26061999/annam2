(()=>{var e={};e.id=297,e.ids=[297],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8819:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11860:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},11997:e=>{"use strict";e.exports=require("punycode")},16158:(e,t,s)=>{Promise.resolve().then(s.bind(s,86374))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27168:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d});var a=s(65239),r=s(48088),l=s(88170),n=s.n(l),i=s(30893),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d={children:["",{children:["appointment-dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,86374)),"/Users/nisha/Desktop/hms/untitled folder/project/app/appointment-dashboard/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"/Users/nisha/Desktop/hms/untitled folder/project/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/nisha/Desktop/hms/untitled folder/project/app/appointment-dashboard/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/appointment-dashboard/page",pathname:"/appointment-dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},41862:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},48730:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56326:(e,t,s)=>{Promise.resolve().then(s.bind(s,94821))},58869:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},78122:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},80462:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},81630:e=>{"use strict";e.exports=require("http")},86374:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/nisha/Desktop/hms/untitled folder/project/app/appointment-dashboard/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/nisha/Desktop/hms/untitled folder/project/app/appointment-dashboard/page.tsx","default")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},94821:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>T});var a=s(60687),r=s(43210),l=s(40228),n=s(48730),i=s(41312),o=s(58559),d=s(96474),c=s(80462),m=s(11860),x=s(93613),p=s(5336),h=s(58869),u=s(99270),g=s(60137),b=s(97992),y=s(12837);let j=(0,s(62688).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var f=s(41862),v=s(8819),N=s(71147),w=s(72589),k=s(96446);let A=({isOpen:e,onClose:t,onSuccess:s,patientId:i,doctorId:o})=>{let[d,c]=(0,r.useState)(1),[A,S]=(0,r.useState)(!1),[C,D]=(0,r.useState)(""),[M,z]=(0,r.useState)(""),[_,T]=(0,r.useState)({patientId:i||"",doctorId:o||"",appointmentDate:"",appointmentTime:"",durationMinutes:30,type:"consultation",symptoms:"",notes:"",isEmergency:!1,sessionType:"morning"}),[P,I]=(0,r.useState)([]),[q,E]=(0,r.useState)([]),[L,F]=(0,r.useState)([]),[$,O]=(0,r.useState)(""),[B,U]=(0,r.useState)([]),[G,H]=(0,r.useState)(null),[R,W]=(0,r.useState)(null),[J,V]=(0,r.useState)(""),[Y,X]=(0,r.useState)(""),[K,Q]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e&&Z()},[e]),(0,r.useEffect)(()=>{_.doctorId&&_.appointmentDate&&ee()},[_.doctorId,_.appointmentDate,_.isEmergency]);let Z=async()=>{try{S(!0);let[e,t,s]=await Promise.all([(0,k.uE)({limit:100}),(0,N.ar)(),(0,N.kt)()]);if(I(e.patients||[]),E(t.doctors||[]),F(s||[]),i){let t=e.patients?.find(e=>e.id===i);t&&W(t)}if(o){let e=t.doctors?.find(e=>e.id===o);e&&(H(e),O(e.specialization))}}catch(e){console.error("Error loading initial data:",e),D("Failed to load data. Please try again.")}finally{S(!1)}},ee=async()=>{try{let e=await (0,w.pN)(_.doctorId,_.appointmentDate,_.isEmergency);U(e.map(e=>({time:e.time,available:e.available})))}catch(e){console.error("Error loading available slots:",e),D("Failed to load available time slots.")}},et=async e=>{if(e.preventDefault(),!_.patientId||!_.doctorId||!_.appointmentDate||!_.appointmentTime)return void D("Please fill in all required fields.");try{S(!0),D("");let e=await (0,w.gG)(_),t=(0,w.ic)(e?.notes);z(t?`Appointment for ${R?.first_name} ${R?.last_name} booked successfully! Your token number is ${t}.`:`Appointment for ${R?.first_name} ${R?.last_name} booked successfully!`),setTimeout(()=>{s?.(e),es()},1500)}catch(e){console.error("Error creating appointment:",e),D(e.message||"Failed to book appointment. Please try again.")}finally{S(!1)}},es=()=>{c(1),T({patientId:"",doctorId:"",appointmentDate:"",appointmentTime:"",durationMinutes:30,type:"consultation",symptoms:"",notes:"",isEmergency:!1,sessionType:"morning"}),D(""),z(""),W(null),H(null),O(""),V(""),X(""),Q(!1),t()},ea=P.filter(e=>`${e.first_name} ${e.last_name}`.toLowerCase().includes(J.toLowerCase())||e.patient_id.toLowerCase().includes(J.toLowerCase())||e.phone.includes(J)),er=q.filter(e=>{let t=e.user?.name?.toLowerCase().includes(Y.toLowerCase())||e.license_number.toLowerCase().includes(Y.toLowerCase()),s=!$||e.specialization===$;return t&&s});return e?(0,a.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50 backdrop-blur-sm",children:(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-4xl bg-white rounded-3xl shadow-2xl border border-gray-100 overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-white px-8 py-6 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Book New Appointment"}),(0,a.jsxs)("p",{className:"text-gray-500 mt-1 text-sm",children:["Step ",d," of 4: ",["Select Patient","Select Doctor","Select Date & Time","Confirm Details"][d-1]]})]}),(0,a.jsx)("button",{onClick:es,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-full transition-colors",children:(0,a.jsx)(m.A,{size:24})})]}),(0,a.jsx)("div",{className:"mt-4 bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-300",style:{width:`${d/4*100}%`}})})]}),(0,a.jsxs)("div",{className:"p-8",children:[C&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center",children:[(0,a.jsx)(x.A,{className:"text-red-500 mr-3",size:20}),(0,a.jsx)("span",{className:"text-red-700",children:C})]}),M&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl flex items-center",children:[(0,a.jsx)(p.A,{className:"text-green-500 mr-3",size:20}),(0,a.jsx)("span",{className:"text-green-700",children:M})]}),(0,a.jsxs)("form",{onSubmit:et,className:"space-y-6",children:[1===d&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(h.A,{className:"mx-auto h-12 w-12 text-orange-500 mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Select Patient"}),(0,a.jsx)("p",{className:"text-gray-500 mt-2",children:"Choose the patient for this appointment"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(u.A,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,a.jsx)("input",{type:"text",placeholder:"Search by name, patient ID, or phone...",value:J,onChange:e=>V(e.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),(0,a.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-2",children:ea.map(e=>(0,a.jsx)("div",{onClick:()=>{W(e),T(t=>({...t,patientId:e.id}))},className:`p-4 border rounded-xl cursor-pointer transition-all ${R?.id===e.id?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["ID: ",e.patient_id]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Phone: ",e.phone]})]}),R?.id===e.id&&(0,a.jsx)(p.A,{className:"text-orange-500",size:20})]})},e.id))}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{type:"button",onClick:()=>c(2),disabled:!R,className:"px-6 py-3 bg-orange-500 text-white rounded-xl hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next: Select Doctor"})})]}),2===d&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(g.A,{className:"mx-auto h-12 w-12 text-orange-500 mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Select Doctor"}),(0,a.jsx)("p",{className:"text-gray-500 mt-2",children:"Choose a doctor for the consultation"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(u.A,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,a.jsx)("input",{type:"text",placeholder:"Search doctors...",value:Y,onChange:e=>X(e.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),(0,a.jsxs)("select",{value:$,onChange:e=>O(e.target.value),className:"px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[(0,a.jsx)("option",{value:"",children:"All Specializations"}),L.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-3",children:er.map(e=>(0,a.jsx)("div",{onClick:()=>{H(e),T(t=>({...t,doctorId:e.id}))},className:`p-4 border rounded-xl cursor-pointer transition-all ${G?.id===e.id?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.user?.name||"Unknown Doctor"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.specialization}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.qualification}),(0,a.jsxs)("div",{className:"flex items-center mt-2 space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,a.jsx)(b.A,{size:14,className:"mr-1"}),e.room_number]}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,a.jsx)(y.A,{size:14,className:"mr-1"}),"₹",e.consultation_fee]})]})]}),G?.id===e.id&&(0,a.jsx)(p.A,{className:"text-orange-500",size:20})]})},e.id))}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("button",{type:"button",onClick:()=>c(1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors",children:"Back"}),(0,a.jsx)("button",{type:"button",onClick:()=>c(3),disabled:!G,className:"px-6 py-3 bg-orange-500 text-white rounded-xl hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next: Select Date & Time"})]})]}),3===d&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(l.A,{className:"mx-auto h-12 w-12 text-orange-500 mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Select Date & Time"}),R&&(0,a.jsxs)("p",{className:"text-gray-500 mt-2",children:["For: ",R.first_name," ",R.last_name]})]}),(0,a.jsx)("div",{className:"bg-gray-50 p-4 rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(j,{className:"text-red-500",size:20}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:"Emergency Appointment"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Available 24/7 with flexible scheduling"})]})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:K,onChange:e=>{Q(e.target.checked),T(t=>({...t,isEmergency:e.target.checked}))},className:"sr-only peer"}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]})}),!K&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Preferred Session"}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-3",children:["morning","afternoon","evening"].map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>T(t=>({...t,sessionType:e})),className:`p-3 border rounded-xl text-center transition-all ${_.sessionType===e?"border-orange-500 bg-orange-50 text-orange-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:[(0,a.jsx)("div",{className:"font-medium capitalize",children:e}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["morning"===e&&"9:00 AM - 12:00 PM","afternoon"===e&&"2:00 PM - 5:00 PM","evening"===e&&"6:00 PM - 9:00 PM"]})]},e))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Appointment Date",G&&(0,a.jsxs)("span",{className:"text-xs text-gray-500 ml-2",children:["(Available on: ",G.availability_hours?.workingDays?.map(e=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e]).join(", ")||"Mon-Sat",")"]})]}),(0,a.jsx)("input",{type:"date",min:new Date().toISOString().split("T")[0],max:(()=>{let e=new Date;return e.setMonth(e.getMonth()+3),e.toISOString().split("T")[0]})(),value:_.appointmentDate,onChange:e=>T(t=>({...t,appointmentDate:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0}),G&&_.appointmentDate&&(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:(()=>{if(!G)return[];let e=[],t=new Date,s=new Date;s.setMonth(s.getMonth()+3);let a=G.availability_hours?.workingDays||[1,2,3,4,5,6];for(let r=new Date(t);r<=s;r.setDate(r.getDate()+1)){let t=r.getDay();a.includes(t)&&e.push(r.toISOString().split("T")[0])}return e})().includes(_.appointmentDate)?"✓ Doctor available on this date":"⚠️ Doctor may not be available on this date"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Appointment Type"}),(0,a.jsxs)("select",{value:_.type,onChange:e=>T(t=>({...t,type:e.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[(0,a.jsx)("option",{value:"consultation",children:"Consultation"}),(0,a.jsx)("option",{value:"follow_up",children:"Follow-up"}),(0,a.jsx)("option",{value:"routine_checkup",children:"Routine Checkup"}),(0,a.jsx)("option",{value:"emergency",children:"Emergency"})]})]})]}),_.appointmentDate&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Available Time Slots",(0,a.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:"(Real-time availability - can book up to 5 minutes before)"})]}),0===B.length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,a.jsx)(n.A,{className:"mx-auto h-8 w-8 mb-2"}),(0,a.jsx)("p",{children:"Loading available time slots..."})]}):(0,a.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-3",children:(e=>{let t=new Date,s=t.toISOString().split("T")[0];if(_.appointmentDate!==s)return e;let a=new Date(t.getTime()+3e5),r=`${a.getHours().toString().padStart(2,"0")}:${a.getMinutes().toString().padStart(2,"0")}`;return e.filter(e=>!e.available||e.time>=r)})(B).map(e=>(0,a.jsxs)("button",{type:"button",disabled:!e.available,onClick:()=>T(t=>({...t,appointmentTime:e.time})),className:`p-3 text-sm font-medium rounded-xl transition-all ${_.appointmentTime===e.time?"bg-orange-500 text-white":e.available?"bg-gray-50 text-gray-700 hover:bg-gray-100 border border-gray-200":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[(0,a.jsx)(n.A,{size:14,className:"inline mr-1"}),e.time,!e.available&&(0,a.jsx)("div",{className:"text-xs mt-1",children:"Booked"})]},e.time))}),_.appointmentDate===new Date().toISOString().split("T")[0]&&(0,a.jsx)("p",{className:"text-xs text-blue-600 mt-2",children:"ℹ️ For today's appointments, only future time slots (5+ minutes from now) are shown"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("button",{type:"button",onClick:()=>c(2),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors",children:"Back"}),(0,a.jsx)("button",{type:"button",onClick:()=>c(4),disabled:!_.appointmentDate||!_.appointmentTime,className:"px-6 py-3 bg-orange-500 text-white rounded-xl hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next: Additional Details"})]})]}),4===d&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(p.A,{className:"mx-auto h-12 w-12 text-orange-500 mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Additional Details"}),R&&(0,a.jsxs)("p",{className:"text-gray-500 mt-2",children:["For: ",R.first_name," ",R.last_name]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Symptoms or Chief Complaint"}),(0,a.jsx)("textarea",{value:_.symptoms,onChange:e=>T(t=>({...t,symptoms:e.target.value})),rows:3,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Describe the main symptoms or reason for visit..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),(0,a.jsx)("textarea",{value:_.notes,onChange:e=>T(t=>({...t,notes:e.target.value})),rows:2,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"Any additional information or special requests..."})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-6 rounded-xl",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Appointment Summary"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Patient:"}),(0,a.jsxs)("span",{className:"font-medium",children:[R?.first_name," ",R?.last_name]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Doctor:"}),(0,a.jsx)("span",{className:"font-medium",children:G?.user?.name||"Unknown Doctor"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Specialization:"}),(0,a.jsx)("span",{className:"font-medium",children:G?.specialization})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Date & Time:"}),(0,a.jsxs)("span",{className:"font-medium",children:[new Date(_.appointmentDate).toLocaleDateString()," at ",_.appointmentTime]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Type:"}),(0,a.jsx)("span",{className:"font-medium capitalize",children:_.type.replace("_"," ")})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Consultation Fee:"}),(0,a.jsxs)("span",{className:"font-medium",children:["₹",G?.consultation_fee]})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("button",{type:"button",onClick:()=>c(3),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors",children:"Back"}),(0,a.jsx)("button",{type:"submit",disabled:A,className:"px-8 py-3 bg-orange-500 text-white rounded-xl hover:bg-orange-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center",children:A?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.A,{className:"animate-spin mr-2",size:20}),"Booking..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.A,{className:"mr-2",size:20}),"Book Appointment"]})})]})]})]})]})]})})}):null};var S=s(35071),C=s(78122),D=s(81904),M=s(47033),z=s(14952);let _=()=>{let[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),[o,c]=(0,r.useState)(""),[m,b]=(0,r.useState)(!1),[y,j]=(0,r.useState)(""),[f,v]=(0,r.useState)("all"),[k,_]=(0,r.useState)("today"),[T,P]=(0,r.useState)(""),[I,q]=(0,r.useState)(1),[E]=(0,r.useState)(10),[L,F]=(0,r.useState)(0),[$,O]=(0,r.useState)([]),[B,U]=(0,r.useState)(null),[G,H]=(0,r.useState)(null);(0,r.useEffect)(()=>{R(),W()},[I,f,k,T,y]);let R=async()=>{try{i(!0),c("");let e={page:I,limit:E};"all"!==f&&(e.status=f),T&&(e.doctorId=T),y&&(e.searchTerm=y);let s=new Date;if("today"===k)e.date=s.toISOString().split("T")[0];else if("week"===k){let t=new Date(s);t.setDate(s.getDate()-s.getDay()),e.dateFrom=t.toISOString().split("T")[0];let a=new Date(t);a.setDate(t.getDate()+6),e.dateTo=a.toISOString().split("T")[0]}else if("month"===k){let t=new Date(s.getFullYear(),s.getMonth(),1),a=new Date(s.getFullYear(),s.getMonth()+1,0);e.dateFrom=t.toISOString().split("T")[0],e.dateTo=a.toISOString().split("T")[0]}let a=await (0,w.Xj)(e);t(a.appointments||[]),F(a.total||0)}catch(e){console.error("Error loading appointments:",e),c("Failed to load appointments. Please try again.")}finally{i(!1)}},W=async()=>{try{let e=await (0,N.ar)();O(e.doctors||[])}catch(e){console.error("Error loading doctors:",e)}},J=async(e,t)=>{try{await (0,w.H8)(e,t),await R(),H(null)}catch(e){console.error("Error updating appointment status:",e),c("Failed to update appointment status.")}},V=async e=>{if(confirm("Are you sure you want to cancel this appointment?"))try{await (0,w.ol)(e,"Cancelled by staff"),await R(),H(null)}catch(e){console.error("Error cancelling appointment:",e),c("Failed to cancel appointment.")}},Y=e=>{switch(e.toLowerCase()){case"confirmed":return"bg-blue-100 text-blue-800 border-blue-200";case"completed":return"bg-green-100 text-green-800 border-green-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";case"no_show":return"bg-gray-100 text-gray-800 border-gray-200";case"rescheduled":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-orange-100 text-orange-800 border-orange-200"}},X=e=>{switch(e.toLowerCase()){case"confirmed":case"completed":return(0,a.jsx)(p.A,{size:14});case"cancelled":return(0,a.jsx)(S.A,{size:14});case"no_show":return(0,a.jsx)(x.A,{size:14});case"rescheduled":return(0,a.jsx)(C.A,{size:14});default:return(0,a.jsx)(n.A,{size:14})}},K=e=>new Date(e).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}),Q=e=>new Date(`2000-01-01T${e}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),Z=Math.ceil(L/E),ee=(()=>{let t=new Date().toISOString().split("T")[0],s=e.filter(e=>e.appointment_date===t);return{total:e.length,today:s.length,confirmed:e.filter(e=>"confirmed"===e.status).length,completed:e.filter(e=>"completed"===e.status).length,cancelled:e.filter(e=>"cancelled"===e.status).length}})();return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-50",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(l.A,{className:"h-8 w-8 text-orange-500 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Appointment Management"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Manage patient appointments and schedules"})]})]}),(0,a.jsxs)("button",{onClick:()=>b(!0),className:"inline-flex items-center px-4 py-2 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-colors shadow-sm",children:[(0,a.jsx)(d.A,{size:20,className:"mr-2"}),"New Appointment"]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-3 bg-blue-100 rounded-xl",children:(0,a.jsx)(l.A,{className:"h-6 w-6 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:ee.total})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-3 bg-orange-100 rounded-xl",children:(0,a.jsx)(n.A,{className:"h-6 w-6 text-orange-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Today"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:ee.today})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-3 bg-blue-100 rounded-xl",children:(0,a.jsx)(p.A,{className:"h-6 w-6 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Confirmed"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:ee.confirmed})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-3 bg-green-100 rounded-xl",children:(0,a.jsx)(p.A,{className:"h-6 w-6 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Completed"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:ee.completed})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-3 bg-red-100 rounded-xl",children:(0,a.jsx)(S.A,{className:"h-6 w-6 text-red-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Cancelled"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:ee.cancelled})]})]})})]}),(0,a.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 mb-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(u.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,a.jsx)("input",{type:"text",placeholder:"Search appointments...",value:y,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),(0,a.jsxs)("select",{value:f,onChange:e=>v(e.target.value),className:"px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,a.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,a.jsx)("option",{value:"completed",children:"Completed"}),(0,a.jsx)("option",{value:"cancelled",children:"Cancelled"}),(0,a.jsx)("option",{value:"no_show",children:"No Show"})]}),(0,a.jsxs)("select",{value:k,onChange:e=>_(e.target.value),className:"px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[(0,a.jsx)("option",{value:"all",children:"All Dates"}),(0,a.jsx)("option",{value:"today",children:"Today"}),(0,a.jsx)("option",{value:"week",children:"This Week"}),(0,a.jsx)("option",{value:"month",children:"This Month"})]}),(0,a.jsxs)("select",{value:T,onChange:e=>P(e.target.value),className:"px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:[(0,a.jsx)("option",{value:"",children:"All Doctors"}),$.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.user?.name||"Unknown Doctor"," - ",e.specialization]},e.id))]})]})}),o&&(0,a.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center",children:[(0,a.jsx)(x.A,{className:"text-red-500 mr-3",size:20}),(0,a.jsx)("span",{className:"text-red-700",children:o})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Doctor"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fee"}),(0,a.jsx)("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:7,className:"px-6 py-12 text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)(C.A,{className:"animate-spin h-6 w-6 text-orange-500 mr-3"}),(0,a.jsx)("span",{className:"text-gray-500",children:"Loading appointments..."})]})})}):0===e.length?(0,a.jsx)("tr",{children:(0,a.jsxs)("td",{colSpan:7,className:"px-6 py-12 text-center",children:[(0,a.jsx)(l.A,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No appointments found"}),(0,a.jsxs)("button",{onClick:()=>b(!0),className:"mt-4 inline-flex items-center px-4 py-2 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-colors",children:[(0,a.jsx)(d.A,{size:16,className:"mr-2"}),"Book First Appointment"]})]})}):e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-orange-100 flex items-center justify-center",children:(0,a.jsx)(h.A,{className:"h-5 w-5 text-orange-600"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.patient?.first_name," ",e.patient?.last_name]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.patient?.patient_id]}),(0,w.ic)(e?.notes)&&(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-700",children:["Token ",(0,w.ic)(e.notes)]})})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:(0,a.jsx)(g.A,{className:"h-5 w-5 text-blue-600"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.doctor?.user?.name||"Unknown Doctor"}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.doctor?.specialization})]})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-sm text-gray-900",children:K(e.appointment_date)}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:Q(e.appointment_time)})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 capitalize",children:e.type.replace("_"," ")})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${Y(e.status)}`,children:[X(e.status),(0,a.jsx)("span",{className:"ml-1 capitalize",children:e.status.replace("_"," ")})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.duration_minutes," mins"]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("button",{onClick:()=>H(G===e.id?null:e.id),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:(0,a.jsx)(D.A,{size:16})}),G===e.id&&(0,a.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 z-10",children:(0,a.jsxs)("div",{className:"py-1",children:[(0,a.jsxs)("button",{onClick:()=>J(e.id,"confirmed"),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[(0,a.jsx)(p.A,{size:16,className:"mr-3 text-green-500"}),"Confirm"]}),(0,a.jsxs)("button",{onClick:()=>J(e.id,"completed"),className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[(0,a.jsx)(p.A,{size:16,className:"mr-3 text-blue-500"}),"Mark Complete"]}),(0,a.jsxs)("button",{onClick:()=>V(e.id),className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[(0,a.jsx)(S.A,{size:16,className:"mr-3"}),"Cancel"]})]})})]})})]},e.id))})]})}),Z>1&&(0,a.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,a.jsx)("button",{onClick:()=>q(Math.max(1,I-1)),disabled:1===I,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,a.jsx)("button",{onClick:()=>q(Math.min(Z,I+1)),disabled:I===Z,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,a.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",(0,a.jsx)("span",{className:"font-medium",children:(I-1)*E+1})," to"," ",(0,a.jsx)("span",{className:"font-medium",children:Math.min(I*E,L)})," ","of ",(0,a.jsx)("span",{className:"font-medium",children:L})," results"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,a.jsx)("button",{onClick:()=>q(Math.max(1,I-1)),disabled:1===I,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)(M.A,{size:20})}),Array.from({length:Math.min(5,Z)},(e,t)=>{let s=Math.max(1,Math.min(Z-4,I-2))+t;return(0,a.jsx)("button",{onClick:()=>q(s),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${I===s?"z-10 bg-orange-50 border-orange-500 text-orange-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:s},s)}),(0,a.jsx)("button",{onClick:()=>q(Math.min(Z,I+1)),disabled:I===Z,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)(z.A,{size:20})})]})})]})]})]})]}),(0,a.jsx)(A,{isOpen:m,onClose:()=>b(!1),onSuccess:()=>{b(!1),R()}})]})},T=()=>{let[e,t]=(0,r.useState)("overview"),[s,m]=(0,r.useState)(!1),x=[{title:"Today's Appointments",value:"24",icon:l.A,color:"bg-blue-500",change:"+12%"},{title:"Pending Confirmations",value:"8",icon:n.A,color:"bg-yellow-500",change:"+5%"},{title:"Active Doctors",value:"15",icon:i.A,color:"bg-green-500",change:"+2%"},{title:"Completed Today",value:"18",icon:o.A,color:"bg-purple-500",change:"+8%"}],p=({label:e,icon:t,isActive:s,onClick:r})=>(0,a.jsxs)("button",{onClick:r,className:`flex items-center px-6 py-3 text-sm font-medium rounded-lg transition-all duration-200 ${s?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[(0,a.jsx)(t,{className:"w-4 h-4 mr-2"}),e]});return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[(0,a.jsx)("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-40",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Appointment Management"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage patient appointments and doctor schedules"})]}),(0,a.jsxs)("button",{onClick:()=>m(!0),className:"flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[(0,a.jsx)(d.A,{className:"w-5 h-5 mr-2"}),"New Appointment"]})]}),(0,a.jsxs)("div",{className:"flex space-x-2 pb-4",children:[(0,a.jsx)(p,{label:"Overview",icon:o.A,isActive:"overview"===e,onClick:()=>t("overview")}),(0,a.jsx)(p,{label:"Book Appointment",icon:d.A,isActive:"book"===e,onClick:()=>t("book")}),(0,a.jsx)(p,{label:"Manage Appointments",icon:c.A,isActive:"manage"===e,onClick:()=>t("manage")})]})]})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["overview"===e&&(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:x.map((e,t)=>{let s=e.icon;return(0,a.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 border border-gray-200 hover:shadow-lg transition-all duration-200 hover:-translate-y-1",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.title}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e.value}),(0,a.jsxs)("p",{className:"text-sm text-green-600 mt-1",children:[e.change," from yesterday"]})]}),(0,a.jsx)("div",{className:`${e.color} p-3 rounded-xl`,children:(0,a.jsx)(s,{className:"w-6 h-6 text-white"})})]})},t)})}),(0,a.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 border border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("button",{onClick:()=>t("book"),className:"flex items-center p-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[(0,a.jsx)(d.A,{className:"w-5 h-5 mr-3"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"font-medium",children:"Book New Appointment"}),(0,a.jsx)("div",{className:"text-sm opacity-90",children:"Schedule patient visit"})]})]}),(0,a.jsxs)("button",{onClick:()=>t("manage"),className:"flex items-center p-4 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl hover:from-green-600 hover:to-green-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[(0,a.jsx)(l.A,{className:"w-5 h-5 mr-3"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"font-medium",children:"View All Appointments"}),(0,a.jsx)("div",{className:"text-sm opacity-90",children:"Manage existing bookings"})]})]}),(0,a.jsxs)("button",{className:"flex items-center p-4 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl hover:from-purple-600 hover:to-purple-700 transition-all duration-200 shadow-md hover:shadow-lg",children:[(0,a.jsx)(i.A,{className:"w-5 h-5 mr-3"}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"font-medium",children:"Doctor Schedules"}),(0,a.jsx)("div",{className:"text-sm opacity-90",children:"Manage availability"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 border border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),(0,a.jsx)("div",{className:"space-y-3",children:[{action:"New appointment booked",patient:"John Doe",time:"2 minutes ago",status:"success"},{action:"Appointment confirmed",patient:"Jane Smith",time:"15 minutes ago",status:"info"},{action:"Appointment completed",patient:"Mike Johnson",time:"1 hour ago",status:"success"},{action:"Appointment cancelled",patient:"Sarah Wilson",time:"2 hours ago",status:"warning"}].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:`w-2 h-2 rounded-full mr-3 ${"success"===e.status?"bg-green-500":"info"===e.status?"bg-blue-500":"warning"===e.status?"bg-yellow-500":"bg-gray-500"}`}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.action}),(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:["Patient: ",e.patient]})]})]}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.time})]},t))})]})]}),"book"===e&&(0,a.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 border border-gray-200",children:(0,a.jsx)(A,{isOpen:!0,onClose:()=>t("overview"),onSuccess:()=>t("manage")})}),"manage"===e&&(0,a.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl border border-gray-200 overflow-hidden",children:(0,a.jsx)(_,{})})]}),s&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Book New Appointment"}),(0,a.jsx)("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)(A,{isOpen:s,onClose:()=>m(!1),onSuccess:()=>{m(!1),t("manage")}})})]})})]})}},96474:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[447,462,658,463,308,525,593,968],()=>s(27168));module.exports=a})();