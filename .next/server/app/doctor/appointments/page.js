(()=>{var e={};e.id=915,e.ids=[915],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5580:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/nisha/Desktop/hms/untitled folder/project/app/doctor/appointments/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/nisha/Desktop/hms/untitled folder/project/app/doctor/appointments/page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},13488:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=s(65239),a=s(48088),l=s(88170),i=s.n(l),n=s(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d={children:["",{children:["doctor",{children:["appointments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5580)),"/Users/nisha/Desktop/hms/untitled folder/project/app/doctor/appointments/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,58014)),"/Users/nisha/Desktop/hms/untitled folder/project/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/nisha/Desktop/hms/untitled folder/project/app/doctor/appointments/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/doctor/appointments/page",pathname:"/doctor/appointments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},13861:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},14770:(e,t,s)=>{Promise.resolve().then(s.bind(s,5580))},16391:(e,t,s)=>{"use strict";s.d(t,{HW:()=>l,ND:()=>r,Ru:()=>a});let r=(0,s(60463).UU)("https://zusheijhebsmjiyyeiqq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp1c2hlaWpoZWJzbWppeXllaXFxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE4MjI0NDAsImV4cCI6MjA2NzM5ODQ0MH0.iwGPaOJPa6OvwX_iA1xvRt5cM72DWfd8Br1pwRTemRc"),a=async(e,t)=>{let{data:s,error:a}=await r.auth.signInWithPassword({email:e,password:t});return{data:s,error:a}},l=async()=>{let{data:{user:e}}=await r.auth.getUser();return e}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},39727:()=>{},46055:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},47990:()=>{},48340:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},61626:(e,t,s)=>{Promise.resolve().then(s.bind(s,85387))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},85387:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>A});var r=s(60687),a=s(43210),l=s(48730),i=s(5336),n=s(93613),o=s(35071),d=s(40228),c=s(99270),m=s(58869),x=s(48340),u=s(13861),p=s(60137),h=s(72589),g=s(16391);async function f(e,t){try{let{data:s,error:r}=await g.ND.from("appointments").select("patient_id").eq("id",e.appointmentId).single();if(r)throw Error(`Failed to fetch appointment: ${r.message}`);let a={appointment_id:e.appointmentId,doctor_id:t,patient_id:s.patient_id,diagnosis:e.diagnosis,treatment_plan:e.treatmentPlan,doctor_notes:e.doctorNotes,vital_signs:e.vitalSigns,follow_up_date:e.followUpDate||null,follow_up_notes:e.followUpNotes||null},{data:l,error:i}=await g.ND.from("consultations").insert(a).select().single();if(i)throw Error(`Failed to save consultation: ${i.message}`);let n=[];if(e.medications&&e.medications.length>0){let t=e.medications.map(e=>({consultation_id:l.id,medication_name:e.name,dosage:e.dosage,frequency:e.frequency,duration:e.duration,instructions:e.instructions||null})),{data:s,error:r}=await g.ND.from("prescriptions").insert(t).select();if(r)throw Error(`Failed to save prescriptions: ${r.message}`);n=s||[]}let{error:o}=await g.ND.from("appointments").update({status:"completed",diagnosis:e.diagnosis,treatment_plan:e.treatmentPlan,notes:e.doctorNotes}).eq("id",e.appointmentId);if(o)throw Error(`Failed to update appointment: ${o.message}`);return{consultation:l,prescriptions:n}}catch(e){throw console.error("Error saving consultation:",e),e}}var b=s(56981),j=s(11860),y=s(96474),v=s(88233),N=s(8819),w=s(26001),C=s(88920);let k=({appointment:e,onClose:t,onSave:s})=>{let[o,c]=(0,a.useState)("diagnosis"),[m,x]=(0,a.useState)(!1),[u,h]=(0,a.useState)({appointmentId:e.id,diagnosis:e.diagnosis||"",treatmentPlan:e.treatment_plan||"",medications:[],doctorNotes:e.notes||"",vitalSigns:{bloodPressure:"",temperature:"",heartRate:"",weight:"",height:""}}),g=(e,t,s)=>{h(r=>({...r,medications:r.medications.map(r=>r.id===e?{...r,[t]:s}:r)}))},f=e=>{h(t=>({...t,medications:t.medications.filter(t=>t.id!==e)}))},k=async()=>{try{x(!0),await s(u),t()}catch(e){console.error("Error saving consultation:",e)}finally{x(!1)}},A=[{id:"diagnosis",label:"Diagnosis & Treatment",icon:(0,r.jsx)(p.A,{size:16})},{id:"prescription",label:"Prescription",icon:(0,r.jsx)(b.A,{size:16})},{id:"followup",label:"Follow-up",icon:(0,r.jsx)(d.A,{size:16})}];return(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)(w.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[95vh] overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Patient Consultation"}),(0,r.jsxs)("p",{className:"text-blue-100 mt-1",children:[e.patient?.name," • ",new Date(e.appointment_date).toLocaleDateString()," • ",e.appointment_time]})]}),(0,r.jsx)("button",{onClick:t,className:"text-white hover:bg-white/20 p-2 rounded-lg transition-colors",children:(0,r.jsx)(j.A,{size:24})})]})}),(0,r.jsx)("div",{className:"bg-gray-50 px-6 py-4 border-b",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Patient ID:"}),(0,r.jsx)("span",{className:"ml-2 font-medium",children:e.patient?.patient_id||"N/A"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Age:"}),(0,r.jsx)("span",{className:"ml-2 font-medium",children:e.patient?.age||"N/A"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Gender:"}),(0,r.jsx)("span",{className:"ml-2 font-medium",children:e.patient?.gender||"N/A"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Chief Complaint:"}),(0,r.jsx)("span",{className:"ml-2 font-medium",children:e.symptoms||"N/A"})]})]})}),(0,r.jsx)("div",{className:"border-b border-gray-200",children:(0,r.jsx)("nav",{className:"flex px-6",children:A.map(e=>(0,r.jsxs)("button",{onClick:()=>c(e.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 transition-colors ${o===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.icon,e.label]},e.id))})}),(0,r.jsx)("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:(0,r.jsxs)(C.N,{mode:"wait",children:["diagnosis"===o&&(0,r.jsxs)(w.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,r.jsx)(n.A,{className:"mr-2 text-blue-500",size:20}),"Vital Signs"]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Pressure"}),(0,r.jsx)("input",{type:"text",placeholder:"120/80",value:u.vitalSigns?.bloodPressure||"",onChange:e=>h(t=>({...t,vitalSigns:{...t.vitalSigns,bloodPressure:e.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Temperature (\xb0F)"}),(0,r.jsx)("input",{type:"text",placeholder:"98.6",value:u.vitalSigns?.temperature||"",onChange:e=>h(t=>({...t,vitalSigns:{...t.vitalSigns,temperature:e.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Heart Rate (bpm)"}),(0,r.jsx)("input",{type:"text",placeholder:"72",value:u.vitalSigns?.heartRate||"",onChange:e=>h(t=>({...t,vitalSigns:{...t.vitalSigns,heartRate:e.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weight (kg)"}),(0,r.jsx)("input",{type:"text",placeholder:"70",value:u.vitalSigns?.weight||"",onChange:e=>h(t=>({...t,vitalSigns:{...t.vitalSigns,weight:e.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Height (cm)"}),(0,r.jsx)("input",{type:"text",placeholder:"170",value:u.vitalSigns?.height||"",onChange:e=>h(t=>({...t,vitalSigns:{...t.vitalSigns,height:e.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Diagnosis"}),(0,r.jsx)("textarea",{rows:4,value:u.diagnosis,onChange:e=>h(t=>({...t,diagnosis:e.target.value})),placeholder:"Enter primary and secondary diagnoses...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Treatment Plan"}),(0,r.jsx)("textarea",{rows:4,value:u.treatmentPlan,onChange:e=>h(t=>({...t,treatmentPlan:e.target.value})),placeholder:"Describe the recommended treatment approach...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Doctor Notes"}),(0,r.jsx)("textarea",{rows:3,value:u.doctorNotes,onChange:e=>h(t=>({...t,doctorNotes:e.target.value})),placeholder:"Additional observations, patient behavior, etc...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]},"diagnosis"),"prescription"===o&&(0,r.jsxs)(w.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,r.jsx)(b.A,{className:"mr-2 text-green-500",size:20}),"Prescription Details"]}),(0,r.jsxs)("button",{onClick:()=>{let e={id:Date.now().toString(),name:"",dosage:"",frequency:"",duration:"",instructions:""};h(t=>({...t,medications:[...t.medications,e]}))},className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,r.jsx)(y.A,{size:16}),"Add Medication"]})]}),0===u.medications.length?(0,r.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,r.jsx)(b.A,{className:"mx-auto h-12 w-12 mb-4 text-gray-300"}),(0,r.jsx)("p",{children:"No medications prescribed yet"}),(0,r.jsx)("p",{className:"text-sm",children:'Click "Add Medication" to start prescribing'})]}):(0,r.jsx)("div",{className:"space-y-4",children:u.medications.map((e,t)=>(0,r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("h4",{className:"font-medium text-gray-900",children:["Medication ",t+1]}),(0,r.jsx)("button",{onClick:()=>f(e.id),className:"text-red-500 hover:text-red-700 p-1 rounded",children:(0,r.jsx)(v.A,{size:16})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Medicine Name"}),(0,r.jsx)("input",{type:"text",value:e.name,onChange:t=>g(e.id,"name",t.target.value),placeholder:"e.g., Paracetamol",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dosage"}),(0,r.jsx)("input",{type:"text",value:e.dosage,onChange:t=>g(e.id,"dosage",t.target.value),placeholder:"e.g., 500mg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequency"}),(0,r.jsxs)("select",{value:e.frequency,onChange:t=>g(e.id,"frequency",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[(0,r.jsx)("option",{value:"",children:"Select frequency"}),(0,r.jsx)("option",{value:"Once daily",children:"Once daily"}),(0,r.jsx)("option",{value:"Twice daily",children:"Twice daily"}),(0,r.jsx)("option",{value:"Three times daily",children:"Three times daily"}),(0,r.jsx)("option",{value:"Four times daily",children:"Four times daily"}),(0,r.jsx)("option",{value:"As needed",children:"As needed"}),(0,r.jsx)("option",{value:"Before meals",children:"Before meals"}),(0,r.jsx)("option",{value:"After meals",children:"After meals"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration"}),(0,r.jsx)("input",{type:"text",value:e.duration,onChange:t=>g(e.id,"duration",t.target.value),placeholder:"e.g., 7 days",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Instructions"}),(0,r.jsx)("textarea",{rows:2,value:e.instructions,onChange:t=>g(e.id,"instructions",t.target.value),placeholder:"e.g., Take with food, avoid alcohol...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]},e.id))})]},"prescription"),"followup"===o&&(0,r.jsxs)(w.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,r.jsx)(d.A,{className:"mr-2 text-purple-500",size:20}),"Follow-up Appointment"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Follow-up Date"}),(0,r.jsx)("input",{type:"date",value:u.followUpDate||"",onChange:e=>h(t=>({...t,followUpDate:e.target.value})),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recommended Time"}),(0,r.jsxs)("select",{className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Select time preference"}),(0,r.jsx)("option",{value:"morning",children:"Morning (9:00 AM - 12:00 PM)"}),(0,r.jsx)("option",{value:"afternoon",children:"Afternoon (2:00 PM - 5:00 PM)"}),(0,r.jsx)("option",{value:"evening",children:"Evening (6:00 PM - 9:00 PM)"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Follow-up Notes"}),(0,r.jsx)("textarea",{rows:4,value:u.followUpNotes||"",onChange:e=>h(t=>({...t,followUpNotes:e.target.value})),placeholder:"Specify what to monitor, tests to conduct, or specific concerns to address in the follow-up...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{className:"bg-blue-50 rounded-xl p-6",children:[(0,r.jsxs)("h4",{className:"font-medium text-blue-900 mb-2 flex items-center",children:[(0,r.jsx)(l.A,{className:"mr-2",size:16}),"Recommended Follow-up Timeline"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,r.jsxs)("button",{onClick:()=>{let e=new Date;e.setDate(e.getDate()+7),h(t=>({...t,followUpDate:e.toISOString().split("T")[0]}))},className:"p-3 bg-white rounded-lg border border-blue-200 hover:border-blue-400 transition-colors text-left",children:[(0,r.jsx)("div",{className:"font-medium text-blue-900",children:"1 Week"}),(0,r.jsx)("div",{className:"text-blue-600",children:"Routine follow-up"})]}),(0,r.jsxs)("button",{onClick:()=>{let e=new Date;e.setDate(e.getDate()+14),h(t=>({...t,followUpDate:e.toISOString().split("T")[0]}))},className:"p-3 bg-white rounded-lg border border-blue-200 hover:border-blue-400 transition-colors text-left",children:[(0,r.jsx)("div",{className:"font-medium text-blue-900",children:"2 Weeks"}),(0,r.jsx)("div",{className:"text-blue-600",children:"Medication review"})]}),(0,r.jsxs)("button",{onClick:()=>{let e=new Date;e.setMonth(e.getMonth()+1),h(t=>({...t,followUpDate:e.toISOString().split("T")[0]}))},className:"p-3 bg-white rounded-lg border border-blue-200 hover:border-blue-400 transition-colors text-left",children:[(0,r.jsx)("div",{className:"font-medium text-blue-900",children:"1 Month"}),(0,r.jsx)("div",{className:"text-blue-600",children:"Progress evaluation"})]})]})]})]},"followup")]})}),(0,r.jsxs)("div",{className:"bg-gray-50 px-6 py-4 border-t flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,r.jsx)(i.A,{className:"inline mr-1",size:16}),"All fields marked with * are required"]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{onClick:t,className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,r.jsx)("button",{onClick:k,disabled:m||!u.diagnosis||!u.treatmentPlan,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Saving..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.A,{size:16}),"Save Consultation"]})})]})]})]})})},A=()=>{let[e,t]=(0,a.useState)(null),[s,b]=(0,a.useState)([]),[j,y]=(0,a.useState)(!0),[v,N]=(0,a.useState)(null),[w,C]=(0,a.useState)(new Date().toISOString().split("T")[0]),[A,S]=(0,a.useState)("all"),[P,D]=(0,a.useState)(""),[_,M]=(0,a.useState)(null),[I,q]=(0,a.useState)(!1),[E,z]=(0,a.useState)(!1);(0,a.useEffect)(()=>{T()},[]),(0,a.useEffect)(()=>{e?.id&&U()},[e?.id,w,A]);let T=async()=>{try{let e=await (0,g.HW)();t(e)}catch(e){console.error("Error loading user:",e),N("Failed to load user information")}},U=async()=>{if(e?.id)try{y(!0),N(null);let t=await (0,h.Xj)({doctorId:e.id,date:w,status:"all"===A?void 0:A});b(t.appointments||[])}catch(e){N(e.message||"Failed to load appointments")}finally{y(!1)}},R=async(e,t)=>{try{await (0,h.H8)(e,t),await U()}catch(e){N(e.message||"Failed to update appointment status")}},F=e=>{M(e),z(!0),R(e.id,"in_progress")},O=async t=>{try{if(!e?.id)throw Error("Doctor ID not found");await f(t,e.id),await U(),z(!1),M(null)}catch(e){throw console.error("Error saving consultation:",e),e}},$=e=>{switch(e){case"scheduled":return"bg-blue-100 text-blue-800";case"confirmed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"completed":default:return"bg-gray-100 text-gray-800";case"cancelled":return"bg-red-100 text-red-800";case"rescheduled":return"bg-purple-100 text-purple-800"}},L=e=>{switch(e){case"scheduled":default:return(0,r.jsx)(l.A,{className:"h-4 w-4"});case"confirmed":case"completed":return(0,r.jsx)(i.A,{className:"h-4 w-4"});case"in_progress":return(0,r.jsx)(n.A,{className:"h-4 w-4"});case"cancelled":return(0,r.jsx)(o.A,{className:"h-4 w-4"});case"rescheduled":return(0,r.jsx)(d.A,{className:"h-4 w-4"})}},W=s.filter(e=>""===P||e.patient?.name?.toLowerCase().includes(P.toLowerCase())||e.patient?.phone?.includes(P)||e.chief_complaint?.toLowerCase().includes(P.toLowerCase())),G=W.filter(e=>e.appointment_date===new Date().toISOString().split("T")[0]),X=W.filter(e=>new Date(e.appointment_date)>new Date),J=G.filter(e=>"completed"===e.status).length,H=G.filter(e=>["scheduled","confirmed","in_progress"].includes(e.status)).length;return e&&("doctor"===e.role||"md"===e.role)?(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-orange-50",children:[(0,r.jsx)("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-40",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Appointments"}),(0,r.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your patient appointments and consultations"})]}),(0,r.jsx)("div",{className:"flex items-center gap-4",children:(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Dr. ",e.name]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:e.specialization||"General Medicine"})]})})]})})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Today's Total"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:G.length})]}),(0,r.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,r.jsx)(d.A,{className:"h-6 w-6 text-blue-600"})})]})}),(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-green-600",children:J})]}),(0,r.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,r.jsx)(i.A,{className:"h-6 w-6 text-green-600"})})]})}),(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:H})]}),(0,r.jsx)("div",{className:"p-3 bg-orange-100 rounded-lg",children:(0,r.jsx)(l.A,{className:"h-6 w-6 text-orange-600"})})]})}),(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Upcoming"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:X.length})]}),(0,r.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,r.jsx)(n.A,{className:"h-6 w-6 text-blue-600"})})]})})]}),(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),(0,r.jsx)("input",{type:"text",placeholder:"Search patients, phone, or complaints...",value:P,onChange:e=>D(e.target.value),className:"pl-10 pr-4 py-3 w-full border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),(0,r.jsx)("input",{type:"date",value:w,onChange:e=>C(e.target.value),className:"px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,r.jsxs)("select",{value:A,onChange:e=>S(e.target.value),className:"px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,r.jsx)("option",{value:"all",children:"All Status"}),(0,r.jsx)("option",{value:"scheduled",children:"Scheduled"}),(0,r.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,r.jsx)("option",{value:"in_progress",children:"In Progress"}),(0,r.jsx)("option",{value:"completed",children:"Completed"}),(0,r.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]})}),v&&(0,r.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center",children:[(0,r.jsx)(n.A,{className:"text-red-500 mr-3",size:20}),(0,r.jsx)("span",{className:"text-red-700",children:v})]}),(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:j?(0,r.jsxs)("div",{className:"p-8 text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Loading appointments..."})]}):0===W.length?(0,r.jsxs)("div",{className:"p-8 text-center",children:[(0,r.jsx)(d.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No appointments found"}),(0,r.jsx)("p",{className:"text-gray-600",children:"No appointments match your current filters."})]}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Chief Complaint"}),(0,r.jsx)("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:W.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,r.jsx)("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:(0,r.jsx)(m.A,{className:"h-5 w-5 text-blue-600"})})}),(0,r.jsxs)("div",{className:"ml-4",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.patient?.name||"Unknown Patient"}),(0,r.jsxs)("div",{className:"text-sm text-gray-500 flex items-center",children:[(0,r.jsx)(x.A,{className:"h-3 w-3 mr-1"}),e.patient?.phone||"No phone"]})]})]})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,r.jsx)("div",{className:"text-sm text-gray-900",children:new Date(e.appointment_date).toLocaleDateString()}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.appointment_time})]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.type?.replace("_"," ").toUpperCase()})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$(e.status)}`,children:[L(e.status),(0,r.jsx)("span",{className:"ml-1",children:e.status?.replace("_"," ").toUpperCase()})]})}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:e.symptoms||"No complaint specified"})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,r.jsx)("button",{onClick:()=>{M(e),q(!0)},className:"text-blue-600 hover:text-blue-900 p-1 rounded",title:"View Details",children:(0,r.jsx)(u.A,{className:"h-4 w-4"})}),"scheduled"===e.status&&(0,r.jsx)("button",{onClick:()=>R(e.id,"confirmed"),className:"text-green-600 hover:text-green-900 p-1 rounded",title:"Confirm",children:(0,r.jsx)(i.A,{className:"h-4 w-4"})}),"confirmed"===e.status&&(0,r.jsx)("button",{onClick:()=>F(e),className:"text-yellow-600 hover:text-yellow-900 p-1 rounded",title:"Start Consultation",children:(0,r.jsx)(p.A,{className:"h-4 w-4"})}),"in_progress"===e.status&&(0,r.jsx)("button",{onClick:()=>F(e),className:"text-purple-600 hover:text-purple-900 p-1 rounded",title:"Continue Consultation",children:(0,r.jsx)(p.A,{className:"h-4 w-4"})}),["scheduled","confirmed"].includes(e.status)&&(0,r.jsx)("button",{onClick:()=>R(e.id,"cancelled"),className:"text-red-600 hover:text-red-900 p-1 rounded",title:"Cancel",children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})]})})]},e.id))})]})})})]}),I&&_&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Appointment Details"}),(0,r.jsx)("button",{onClick:()=>q(!1),className:"text-gray-400 hover:text-gray-600",children:(0,r.jsx)(o.A,{className:"h-6 w-6"})})]})}),(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Patient Information"}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Name:"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:_.patient?.name})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Phone:"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:_.patient?.phone})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Email:"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:_.patient?.email||"Not provided"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Appointment Information"}),(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Date:"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:new Date(_.appointment_date).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Time:"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:_.appointment_time})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Duration:"}),(0,r.jsxs)("span",{className:"text-sm font-medium",children:[_.duration_minutes," minutes"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Type:"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:_.type?.replace("_"," ").toUpperCase()})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Status:"}),(0,r.jsx)("span",{className:`text-sm font-medium px-2 py-1 rounded ${$(_.status)}`,children:_.status?.replace("_"," ").toUpperCase()})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Medical Information"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600",children:"Chief Complaint:"}),(0,r.jsx)("p",{className:"text-sm font-medium mt-1 p-3 bg-gray-50 rounded-lg",children:_.chief_complaint||"Not specified"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600",children:"Symptoms:"}),(0,r.jsx)("p",{className:"text-sm font-medium mt-1 p-3 bg-gray-50 rounded-lg",children:_.symptoms||"Not specified"})]}),_.diagnosis&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600",children:"Diagnosis:"}),(0,r.jsx)("p",{className:"text-sm font-medium mt-1 p-3 bg-gray-50 rounded-lg",children:_.diagnosis})]}),_.treatment_plan&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600",children:"Treatment Plan:"}),(0,r.jsx)("p",{className:"text-sm font-medium mt-1 p-3 bg-gray-50 rounded-lg",children:_.treatment_plan})]}),_.notes&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm text-gray-600",children:"Notes:"}),(0,r.jsx)("p",{className:"text-sm font-medium mt-1 p-3 bg-gray-50 rounded-lg",children:_.notes})]})]})]})]}),(0,r.jsxs)("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[(0,r.jsx)("button",{onClick:()=>q(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Close"}),("confirmed"===_.status||"in_progress"===_.status)&&(0,r.jsxs)("button",{onClick:()=>{q(!1),F(_)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,r.jsx)(p.A,{className:"h-4 w-4"}),"in_progress"===_.status?"Continue Consultation":"Start Consultation"]})]})]})}),E&&_&&(0,r.jsx)(k,{appointment:_,onClose:()=>{z(!1),M(null)},onSave:O})]}):(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(n.A,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),(0,r.jsx)("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})})}},88233:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},88920:(e,t,s)=>{"use strict";s.d(t,{N:()=>b});var r=s(60687),a=s(43210),l=s(12157),i=s(72789),n=s(15124),o=s(21279),d=s(18171),c=s(32582);class m extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,s=(0,d.s)(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function x({children:e,isPresent:t,anchorX:s,root:l}){let i=(0,a.useId)(),n=(0,a.useRef)(null),o=(0,a.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=(0,a.useContext)(c.Q);return(0,a.useInsertionEffect)(()=>{let{width:e,height:r,top:a,left:c,right:m}=o.current;if(t||!n.current||!e||!r)return;let x="left"===s?`left: ${c}`:`right: ${m}`;n.current.dataset.motionPopId=i;let u=document.createElement("style");d&&(u.nonce=d);let p=l??document.head;return p.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            ${x}px !important;
            top: ${a}px !important;
          }
        `),()=>{p.removeChild(u),p.contains(u)&&p.removeChild(u)}},[t]),(0,r.jsx)(m,{isPresent:t,childRef:n,sizeRef:o,children:a.cloneElement(e,{ref:n})})}let u=({children:e,initial:t,isPresent:s,onExitComplete:l,custom:n,presenceAffectsLayout:d,mode:c,anchorX:m,root:u})=>{let h=(0,i.M)(p),g=(0,a.useId)(),f=!0,b=(0,a.useMemo)(()=>(f=!1,{id:g,initial:t,isPresent:s,custom:n,onExitComplete:e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;l&&l()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[s,h,l]);return d&&f&&(b={...b}),(0,a.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[s]),a.useEffect(()=>{s||h.size||!l||l()},[s]),"popLayout"===c&&(e=(0,r.jsx)(x,{isPresent:s,anchorX:m,root:u,children:e})),(0,r.jsx)(o.t.Provider,{value:b,children:e})};function p(){return new Map}var h=s(86044);let g=e=>e.key||"";function f(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}let b=({children:e,custom:t,initial:s=!0,onExitComplete:o,presenceAffectsLayout:d=!0,mode:c="sync",propagate:m=!1,anchorX:x="left",root:p})=>{let[b,j]=(0,h.xQ)(m),y=(0,a.useMemo)(()=>f(e),[e]),v=m&&!b?[]:y.map(g),N=(0,a.useRef)(!0),w=(0,a.useRef)(y),C=(0,i.M)(()=>new Map),[k,A]=(0,a.useState)(y),[S,P]=(0,a.useState)(y);(0,n.E)(()=>{N.current=!1,w.current=y;for(let e=0;e<S.length;e++){let t=g(S[e]);v.includes(t)?C.delete(t):!0!==C.get(t)&&C.set(t,!1)}},[S,v.length,v.join("-")]);let D=[];if(y!==k){let e=[...y];for(let t=0;t<S.length;t++){let s=S[t],r=g(s);v.includes(r)||(e.splice(t,0,s),D.push(s))}return"wait"===c&&D.length&&(e=D),P(f(e)),A(y),null}let{forceRender:_}=(0,a.useContext)(l.L);return(0,r.jsx)(r.Fragment,{children:S.map(e=>{let a=g(e),l=(!m||!!b)&&(y===S||v.includes(a));return(0,r.jsx)(u,{isPresent:l,initial:(!N.current||!!s)&&void 0,custom:t,presenceAffectsLayout:d,mode:c,root:p,onExitComplete:l?void 0:()=>{if(!C.has(a))return;C.set(a,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(_?.(),P(w.current),m&&j?.(),o&&o())},anchorX:x,children:e},a)})})}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,462,658,463,684,308,968],()=>s(13488));module.exports=r})();