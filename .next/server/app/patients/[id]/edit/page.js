(()=>{var e={};e.id=654,e.ids=[654],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8819:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(62688).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11860:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(62688).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},11997:e=>{"use strict";e.exports=require("punycode")},13248:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=t(65239),a=t(48088),l=t(88170),i=t.n(l),n=t(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(r,o);let d={children:["",{children:["patients",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,98813)),"/Users/nisha/Desktop/hms/untitled folder/project/app/patients/[id]/edit/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"/Users/nisha/Desktop/hms/untitled folder/project/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/nisha/Desktop/hms/untitled folder/project/app/patients/[id]/edit/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/patients/[id]/edit/page",pathname:"/patients/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},28559:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(62688).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},43649:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(62688).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},58869:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(62688).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66881:(e,r,t)=>{Promise.resolve().then(t.bind(t,98813))},67760:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(62688).A)("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},80033:(e,r,t)=>{Promise.resolve().then(t.bind(t,92481))},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},92481:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var s=t(60687),a=t(43210),l=t(16189),i=t(28559),n=t(11860),o=t(58869),d=t(67760),c=t(58559),u=t(41312),m=t(99891),x=t(43649),h=t(8819);function p({patient:e,onSave:r,onCancel:t,isLoading:l=!1}){let[i,p]=(0,a.useState)({firstName:"",lastName:"",dateOfBirth:"",gender:"",phone:"",email:"",address:"",maritalStatus:"",bloodGroup:"",allergies:"",medicalHistory:"",currentMedications:"",chronicConditions:"",previousSurgeries:"",primaryComplaint:"",initialSymptoms:"",guardianName:"",guardianRelationship:"",guardianPhone:"",guardianAddress:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelationship:"",insuranceProvider:"",insuranceNumber:"",referredBy:"",status:""}),[g,b]=(0,a.useState)("personal"),[f,v]=(0,a.useState)({}),y=(e,r)=>{p(t=>({...t,[e]:r})),f[e]&&v(r=>({...r,[e]:""}))},j=()=>{let e={};return i.firstName.trim()||(e.firstName="First name is required"),v(e),0===Object.keys(e).length},N=async e=>{if(e.preventDefault(),j())try{await r(i)}catch(e){console.error("Error saving patient data:",e)}},w=[{id:"personal",label:"Personal Info",icon:o.A},{id:"medical",label:"Medical Info",icon:d.A},{id:"health",label:"Health Status",icon:c.A},{id:"contacts",label:"Contacts",icon:u.A},{id:"insurance",label:"Insurance",icon:m.A}];return(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100 p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,s.jsx)(o.A,{className:"h-6 w-6 text-blue-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Patient Information"}),(0,s.jsxs)("p",{className:"text-gray-600 text-sm",children:[e?.name," â€¢ ",e?.patient_id]})]})]}),(0,s.jsx)("button",{onClick:t,className:"p-2 hover:bg-blue-100 rounded-lg transition-colors text-gray-500 hover:text-gray-700",children:(0,s.jsx)(n.A,{className:"h-5 w-5"})})]})}),(0,s.jsx)("div",{className:"border-b border-gray-200 bg-gray-50",children:(0,s.jsx)("div",{className:"flex overflow-x-auto",children:w.map(e=>{let r=e.icon;return(0,s.jsxs)("button",{onClick:()=>b(e.id),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium whitespace-nowrap transition-colors ${g===e.id?"text-blue-600 border-b-2 border-blue-600 bg-white":"text-gray-600 hover:text-blue-600"}`,children:[(0,s.jsx)(r,{className:"h-4 w-4"}),e.label]},e.id)})})}),(0,s.jsxs)("form",{onSubmit:N,className:"flex-1 flex flex-col min-h-0",children:[(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:["personal"===g&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:["First Name ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("input",{type:"text",id:"firstName",value:i.firstName,onChange:e=>y("firstName",e.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${f.firstName?"border-red-300":"border-gray-300"}`,placeholder:"Enter first name"}),f.firstName&&(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:f.firstName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),(0,s.jsx)("input",{type:"text",id:"lastName",value:i.lastName,onChange:e=>y("lastName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter last name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),(0,s.jsx)("input",{type:"date",id:"dateOfBirth",value:i.dateOfBirth,onChange:e=>y("dateOfBirth",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),(0,s.jsxs)("select",{id:"gender",value:i.gender,onChange:e=>y("gender",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,s.jsx)("option",{value:"",children:"Select Gender"}),(0,s.jsx)("option",{value:"male",children:"Male"}),(0,s.jsx)("option",{value:"female",children:"Female"}),(0,s.jsx)("option",{value:"other",children:"Other"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,s.jsx)("input",{type:"tel",id:"phone",value:i.phone,onChange:e=>y("phone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter phone number"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,s.jsx)("input",{type:"email",id:"email",value:i.email,onChange:e=>y("email",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter email address"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"maritalStatus",className:"block text-sm font-medium text-gray-700 mb-1",children:"Marital Status"}),(0,s.jsxs)("select",{id:"maritalStatus",value:i.maritalStatus,onChange:e=>y("maritalStatus",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,s.jsx)("option",{value:"",children:"Select Status"}),(0,s.jsx)("option",{value:"single",children:"Single"}),(0,s.jsx)("option",{value:"married",children:"Married"}),(0,s.jsx)("option",{value:"divorced",children:"Divorced"}),(0,s.jsx)("option",{value:"widowed",children:"Widowed"}),(0,s.jsx)("option",{value:"separated",children:"Separated"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,s.jsx)("textarea",{id:"address",value:i.address,onChange:e=>y("address",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter full address"})]})]}),"medical"===g&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"bloodGroup",className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Group"}),(0,s.jsxs)("select",{id:"bloodGroup",value:i.bloodGroup,onChange:e=>y("bloodGroup",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,s.jsx)("option",{value:"",children:"Select Blood Group"}),(0,s.jsx)("option",{value:"A+",children:"A+"}),(0,s.jsx)("option",{value:"A-",children:"A-"}),(0,s.jsx)("option",{value:"B+",children:"B+"}),(0,s.jsx)("option",{value:"B-",children:"B-"}),(0,s.jsx)("option",{value:"AB+",children:"AB+"}),(0,s.jsx)("option",{value:"AB-",children:"AB-"}),(0,s.jsx)("option",{value:"O+",children:"O+"}),(0,s.jsx)("option",{value:"O-",children:"O-"})]})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"allergies",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known Allergies"}),(0,s.jsx)("textarea",{id:"allergies",value:i.allergies,onChange:e=>y("allergies",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"List any known allergies (medications, food, environmental, etc.)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"medicalHistory",className:"block text-sm font-medium text-gray-700 mb-1",children:"Medical History"}),(0,s.jsx)("textarea",{id:"medicalHistory",value:i.medicalHistory,onChange:e=>y("medicalHistory",e.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Previous medical conditions, hospitalizations, treatments, etc."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"currentMedications",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Medications"}),(0,s.jsx)("textarea",{id:"currentMedications",value:i.currentMedications,onChange:e=>y("currentMedications",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"List all current medications with dosages"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"chronicConditions",className:"block text-sm font-medium text-gray-700 mb-1",children:"Chronic Conditions"}),(0,s.jsx)("textarea",{id:"chronicConditions",value:i.chronicConditions,onChange:e=>y("chronicConditions",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ongoing medical conditions (diabetes, hypertension, etc.)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"previousSurgeries",className:"block text-sm font-medium text-gray-700 mb-1",children:"Previous Surgeries"}),(0,s.jsx)("textarea",{id:"previousSurgeries",value:i.previousSurgeries,onChange:e=>y("previousSurgeries",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"List previous surgeries with dates"})]})]}),"health"===g&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"primaryComplaint",className:"block text-sm font-medium text-gray-700 mb-1",children:"Primary Complaint"}),(0,s.jsx)("textarea",{id:"primaryComplaint",value:i.primaryComplaint,onChange:e=>y("primaryComplaint",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Main reason for current visit or ongoing care"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"initialSymptoms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Symptoms"}),(0,s.jsx)("textarea",{id:"initialSymptoms",value:i.initialSymptoms,onChange:e=>y("initialSymptoms",e.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe current symptoms, duration, severity, etc."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"referredBy",className:"block text-sm font-medium text-gray-700 mb-1",children:"Referred By"}),(0,s.jsx)("input",{type:"text",id:"referredBy",value:i.referredBy,onChange:e=>y("referredBy",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Doctor or facility that referred the patient"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Patient Status"}),(0,s.jsxs)("select",{id:"status",value:i.status,onChange:e=>y("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,s.jsx)("option",{value:"active",children:"Active"}),(0,s.jsx)("option",{value:"stable",children:"Stable"}),(0,s.jsx)("option",{value:"critical",children:"Critical"}),(0,s.jsx)("option",{value:"recovering",children:"Recovering"}),(0,s.jsx)("option",{value:"discharged",children:"Discharged"})]})]})]}),"contacts"===g&&(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,s.jsx)(u.A,{className:"h-5 w-5 text-blue-600"}),"Guardian/Attendant Information"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"guardianName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Guardian Name"}),(0,s.jsx)("input",{type:"text",id:"guardianName",value:i.guardianName,onChange:e=>y("guardianName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter guardian's full name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"guardianRelationship",className:"block text-sm font-medium text-gray-700 mb-1",children:"Relationship"}),(0,s.jsxs)("select",{id:"guardianRelationship",value:i.guardianRelationship,onChange:e=>y("guardianRelationship",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,s.jsx)("option",{value:"",children:"Select Relationship"}),(0,s.jsx)("option",{value:"parent",children:"Parent"}),(0,s.jsx)("option",{value:"spouse",children:"Spouse"}),(0,s.jsx)("option",{value:"child",children:"Child"}),(0,s.jsx)("option",{value:"sibling",children:"Sibling"}),(0,s.jsx)("option",{value:"relative",children:"Relative"}),(0,s.jsx)("option",{value:"friend",children:"Friend"}),(0,s.jsx)("option",{value:"caregiver",children:"Caregiver"}),(0,s.jsx)("option",{value:"other",children:"Other"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"guardianPhone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Guardian Phone"}),(0,s.jsx)("input",{type:"tel",id:"guardianPhone",value:i.guardianPhone,onChange:e=>y("guardianPhone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter guardian's phone number"})]})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{htmlFor:"guardianAddress",className:"block text-sm font-medium text-gray-700 mb-1",children:"Guardian Address"}),(0,s.jsx)("textarea",{id:"guardianAddress",value:i.guardianAddress,onChange:e=>y("guardianAddress",e.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter guardian's address"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[(0,s.jsx)(x.A,{className:"h-5 w-5 text-red-600"}),"Emergency Contact Information"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"emergencyContactName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact Name"}),(0,s.jsx)("input",{type:"text",id:"emergencyContactName",value:i.emergencyContactName,onChange:e=>y("emergencyContactName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter emergency contact's name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"emergencyContactPhone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Emergency Contact Phone"}),(0,s.jsx)("input",{type:"tel",id:"emergencyContactPhone",value:i.emergencyContactPhone,onChange:e=>y("emergencyContactPhone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter emergency contact's phone"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"emergencyContactRelationship",className:"block text-sm font-medium text-gray-700 mb-1",children:"Relationship to Patient"}),(0,s.jsxs)("select",{id:"emergencyContactRelationship",value:i.emergencyContactRelationship,onChange:e=>y("emergencyContactRelationship",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,s.jsx)("option",{value:"",children:"Select Relationship"}),(0,s.jsx)("option",{value:"parent",children:"Parent"}),(0,s.jsx)("option",{value:"spouse",children:"Spouse"}),(0,s.jsx)("option",{value:"child",children:"Child"}),(0,s.jsx)("option",{value:"sibling",children:"Sibling"}),(0,s.jsx)("option",{value:"relative",children:"Relative"}),(0,s.jsx)("option",{value:"friend",children:"Friend"}),(0,s.jsx)("option",{value:"other",children:"Other"})]})]})]})]})]}),"insurance"===g&&(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"insuranceProvider",className:"block text-sm font-medium text-gray-700 mb-1",children:"Insurance Provider"}),(0,s.jsx)("input",{type:"text",id:"insuranceProvider",value:i.insuranceProvider,onChange:e=>y("insuranceProvider",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter insurance company name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"insuranceNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Insurance Number"}),(0,s.jsx)("input",{type:"text",id:"insuranceNumber",value:i.insuranceNumber,onChange:e=>y("insuranceNumber",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter insurance policy number"})]})]})})]}),(0,s.jsx)("div",{className:"border-t border-gray-200 bg-gray-50 px-6 py-4 flex-shrink-0",children:(0,s.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,s.jsx)("button",{type:"button",onClick:t,className:"px-6 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:l,children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2 disabled:opacity-50",disabled:l,children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.A,{className:"h-4 w-4"}),"Save Changes"]})})]})})]})]})})}function g(){let e=(0,l.useRouter)(),r=(0,l.useParams)(),t=r?.id,[o,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(!0),[m,x]=(0,a.useState)(null),[h,g]=(0,a.useState)(!1),b=async r=>{try{g(!0);let s=await fetch(`/api/patients/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to update patient")}await s.json(),alert("Patient updated successfully!"),e.push(`/patients/${t}`)}catch(e){console.error("Error updating patient:",e),alert(`Failed to update patient: ${e instanceof Error?e.message:"Unknown error"}`)}finally{g(!1)}},f=()=>{e.push(`/patients/${t}`)};return c?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading patient data..."})]})}):m||!o?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:m||"Patient not found"}),(0,s.jsx)("button",{onClick:()=>e.push("/patients"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Back to Patients"})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("button",{onClick:f,className:"flex items-center text-gray-600 hover:text-gray-900",children:[(0,s.jsx)(i.A,{className:"h-5 w-5 mr-2"}),"Back to Patient Details"]}),(0,s.jsx)("div",{className:"h-6 border-l border-gray-300"}),(0,s.jsxs)("h1",{className:"text-xl font-semibold text-gray-900",children:["Edit Patient: ",o.firstName," ",o.lastName]}),(0,s.jsx)("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-2.5 py-0.5 rounded",children:o.patient_id})]}),(0,s.jsx)("div",{className:"flex items-center space-x-3",children:(0,s.jsxs)("button",{onClick:f,className:"flex items-center px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:[(0,s.jsx)(n.A,{className:"h-4 w-4 mr-2"}),"Cancel"]})})]})})}),(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsx)(p,{patient:o,onSave:b,onCancel:f,isLoading:h})})]})}t(96446)},94735:e=>{"use strict";e.exports=require("events")},98813:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/nisha/Desktop/hms/untitled folder/project/app/patients/[id]/edit/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/nisha/Desktop/hms/untitled folder/project/app/patients/[id]/edit/page.tsx","default")},99891:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(62688).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[447,462,658,463,308,525],()=>t(13248));module.exports=s})();